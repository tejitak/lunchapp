<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title><%=title%></title>
    <link rel="stylesheet" href="/js/lib/bootstrap/bootstrap.min.css">
    <link rel="stylesheet" href="/css/style.css">
    <script data-main="/dist/teji.lunch.admin.js" src="/js/lib/requirejs/require.js"></script>
</head>
<body>
<%=header%>
    <div class="container fnMainContainer" style="display: none; opacity: 0;">
        <div class="fnDefaultContent" style="display: none;">
            <div class="sectionTitle">Lunch Timer Admin</div>
            <ul>
                <li>ランチグループの管理ができます</li>
            </ul>
            <div>まずはFacebookログインをしてはじめましょう</div>
        </div>
        <div class="fnAdminGroupList" style="display: none;">
            <div>
                <h4>My Groups</h4>
            </div> 
            <div>
                <table class="table table-striped table-bordered">
                    <thead>
                        <tr>
                            <th>Group Name</th>
                            <th>Members</th>
                            <th></th>
                        </tr>
                    </thead>
                    <tbody class="fnAdminGroupListTable">
                        <% _.each(groups, function(group, key, arr) { %>
                            <tr>
                                <td><span><%-group.name%></span></td>
                                <td>
                                    <% _.each(group.members, function(member, key, arr){ %>
                                    <img class="img-rounded" width="20px" height="20px" src="http://graph.facebook.com/<%=member.id%>/picture?type=square" title="<%-member.name%>">
                                    <% }); %>
                                </td>
                                <td>
                                    <a href="/admin/ui/edit/<%=group._id%>">Edit</a>
                                    <a href="/admin/delete/<%=group._id%>">Delete</a>
                                </td>
                            </tr>
                        <% }); %>
                    </tbody>
                </table>
            </div>
            <button class="btn btn-primary btn-default fnAdminAddGroup">Add Group</button>
        </div>
    </div>
    <!-- Add Group Modal -->
    <div class="container" id="addGroupModal" style="display: none; opacity: 0;">
        <div>
            <h4 id="saveGroupModalTitle">Add a Group</h4>
        </div>
        <div class="modal-body">
            <div class="form-group">
                <label class="control-label" for="groupNameInput">Group Name</label>
                <input type="text" class="form-control" id="groupNameInput" placeholder="Group Name">
            </div>
            <div class="form-group">
                <label class="control-label" for="friendAutoCompleteInput">Members (Your Facebook friends who started Lunch Timer can be added)</label>
                <!--div class="col-sm-5 col-xs-12 col-lg-3"-->
                <div class="input-group">
                    <input type="text" class="form-control" id="friendAutoCompleteInput" placeholder="Type your friends">
                    <span class="input-group-btn">
                        <button class="btn btn-default btn-primary fnAddFriendAutoCompleteBtn" type="button" disabled="disabled">Add</button>
                    </span>
                </div>
                <div class="friendsAutoCompletedResults">
                    <ul class="multiColumn"></ul>
                </div>
            </div>
            <div class="form-group">
                <label class="control-label" for="shopURLInput">Restaurants</label>
                <div class="input-group">
                    <input type="text" class="form-control" id="shopURLInput" placeholder="食べログURL">
                    <span class="input-group-btn">
                        <button class="btn btn-default btn-primary fnAddShopURLBtn" type="button">Add</button>
                    </span>
                </div>
                <div class="fnShopURLResults"></div>
            </div>
        </div>
        <div class="modal-footer">
            <button type="button" class="btn btn-default fnCancelSaveGroupBtn">Cancel</button>
            <button type="button" class="btn btn-primary fnSaveGroupBtn">Save changes</button>
        </div>
    </div>
</body>
</html>